/*
*   jQuery.stickyPanel
*   ----------------------
*   version: 1.4.1
*   date: 7/21/11
*
*   Copyright (c) 2011 Donny Velazquez
*   http://donnyvblog.blogspot.com/
*   http://code.google.com/p/sticky-panel/
*   
*   Licensed under the Apache License 2.0
*
*/
;(function(c){function e(b){var a=b.data.selected,b=b.data.options,d=0<navigator.userAgent.toLowerCase().indexOf("mobile"),f=c(window).height(),e=a.outerHeight(!0),g=c(document).scrollTop();if(!d&&g<=c(document).height()-f&&g>a.offset().top-b.topPadding){d=0;"undefined"!=b.topPadding&&(d+=b.topPadding);f=a.offset().left;a.data("PanelsTop",a.offset().top-d);if(!0==b.savePanelSpace){var h=a.outerWidth(!0),i=a.css("float"),j=a.css("display"),k=Math.ceil(9999*Math.random());a.data("PanelSpaceID","stickyPanelSpace"+ k);a.before("<div id='"+a.data("PanelSpaceID")+"' style='width:"+h+"px;height:"+e+"px;float:"+i+";display:"+j+";'>&nbsp;</div>")}""!=b.afterDetachCSSClass&&a.addClass(b.afterDetachCSSClass);a.data("Original_Inline_CSS",!a.attr("style")?"":a.attr("style"));a.css({margin:0,left:f,top:d,position:"fixed",width:h-4})}g<=a.data("PanelsTop")&&"auto"!=a.css("top")&&(!0==b.savePanelSpace&&c("#"+a.data("PanelSpaceID")).remove(),a.attr("style",a.data("Original_Inline_CSS")),""!=b.afterDetachCSSClass&&a.removeClass(b.afterDetachCSSClass))} c.fn.stickyPanel=function(b){b=c.extend({},c.fn.stickyPanel.defaults,b);return this.each(function(){c(window).bind("scroll.stickyPanel",{selected:c(this),options:b},e)})};c.fn.stickyPanel.defaults={topPadding:0,afterDetachCSSClass:"",savePanelSpace:!1}})(jQuery);